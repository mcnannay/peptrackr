
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id      String   @id @default(cuid())
  name    String
  shots   Shot[]
  weights Weight[]
}

model Med {
  id           String @id @default(cuid())
  name         String
  halfLifeDays Float
  freqDays     Int
  color        String
  absorptionHalfLifeHours Float @default(0)
  shots        Shot[]
}

model Shot {
  id     String   @id @default(cuid())
  medId  String
  med    Med      @relation(fields: [medId], references: [id])
  mg     Float
  ts     DateTime
  userId String?
  user   User?    @relation(fields: [userId], references: [id])
}

model Weight {
  id     String   @id @default(cuid())
  kg     Float
  ts     DateTime
  userId String?
  user   User?    @relation(fields: [userId], references: [id])
}

model Setting {
  id           Int     @id @default(1)
  activeUserId String?
  theme        String  @default("dark")

  @@map("settings")
}
